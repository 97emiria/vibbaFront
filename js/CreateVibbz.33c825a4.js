"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[359],{6797:function(t,e,a){a.r(e),a.d(e,{default:function(){return _}});var s=a(3396),o=a(7139),r=a(9242);const n=t=>((0,s.dD)("data-v-01846ad8"),t=t(),(0,s.Cn)(),t),i={class:"CreateVibbz maxWidthAndCenter"},d=n((()=>(0,s._)("div",{class:"spaceDivider"},null,-1))),h=n((()=>(0,s._)("h1",null,"Create Vibbz",-1))),l={key:0,class:"error",id:"error"},p=n((()=>(0,s._)("h3",null,"Post a Vibbz",-1))),u={id:"countCh"},g=(0,s.uE)('<option value="glad" data-v-01846ad8>Glad</option><option value="love" data-v-01846ad8>Love</option><option value="mad" data-v-01846ad8>Mad</option><option value="neutral" data-v-01846ad8>Neutral</option><option value="sad" data-v-01846ad8>Sad</option><option value="surprised" data-v-01846ad8>Surprised</option><option value="tired" data-v-01846ad8>Tired</option>',7),m=[g],v=n((()=>(0,s._)("input",{type:"submit",value:"Post Vibbz"},null,-1)));function c(t,e,a,n,g,c){const b=(0,s.up)("Header");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(b),d,h,g.errorMessage?((0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("p",null,(0,o.zw)(g.errorMessage),1)])):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,r.iM)((t=>c.handleSubmit()),["prevent"]))},[p,(0,s.wy)((0,s._)("textarea",{id:"post",name:"post","onUpdate:modelValue":e[0]||(e[0]=t=>g.postText=t),required:""},null,512),[[r.nr,g.postText]]),(0,s._)("p",u,(0,o.zw)(g.postText.length)+" / 244",1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>g.mood=t)},m,512),[[r.bM,g.mood]]),v],32)])}a(6699);var b=a(7471),f=a(65),w={name:"CreateVibbz",data(){return{postText:"",mood:"glad",hashtag:"",hashtagsArr:[],textCh:0,errorMessage:""}},components:{Header:b.Z,Footer:f.Z},methods:{addHashtag(t){this.hashtag&&(this.hashtagsArr.includes(this.hashtag)?document.getElementById("error").innerHTML="Hashtag already typed":this.hashtagsArr.push(this.hashtag),this.hashtag="")},deleteHashtag(t){this.hashtagsArr=this.hashtagsArr.filter((e=>t!==e))},handleSubmit(){if(this.postText.length<244)if(null!=sessionStorage.getItem("userID")){let t={userID:sessionStorage.getItem("userID"),username:sessionStorage.getItem("username"),text:this.postText,emotion:this.mood,hashtags:this.hashtagsArr};fetch("https://radiant-brushlands-91826.herokuapp.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((t=>{t.json().then((e=>{t.ok&&window.location.replace("/#/Profile")}))}))}else this.errorMessage="Something went wrong, try again later";else this.errorMessage="Post to many characters"}}},y=a(89);const S=(0,y.Z)(w,[["render",c],["__scopeId","data-v-01846ad8"]]);var _=S}}]);
//# sourceMappingURL=CreateVibbz.33c825a4.js.map