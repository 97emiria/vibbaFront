"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[535],{2565:function(e,s,r){r.r(s),r.d(s,{default:function(){return b}});var n=r(3396),a=r(9242),t=r(7139);const o=e=>((0,n.dD)("data-v-35c358df"),e=e(),(0,n.Cn)(),e),i={class:"Login maxWidthAndCenter"},u=o((()=>(0,n._)("div",{class:"spaceDivider"},null,-1))),d=o((()=>(0,n._)("h1",null,"Log in",-1))),l={key:0,class:"error",id:"error"},p=o((()=>(0,n._)("label",null,"Username or email",-1))),m=o((()=>(0,n._)("label",null,"Password",-1))),c=o((()=>(0,n._)("input",{type:"submit",value:"Log in"},null,-1)));function h(e,s,r,o,h,w){const g=(0,n.up)("Header");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(g),u,d,(0,n._)("form",{onSubmit:s[2]||(s[2]=(0,a.iM)((e=>w.handleSubmit()),["prevent"]))},[h.errorMessage?((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("p",null,(0,t.zw)(h.errorMessage),1)])):(0,n.kq)("",!0),p,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>h.username=e)},null,512),[[a.nr,h.username]]),m,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>h.password=e)},null,512),[[a.nr,h.password]]),c],32)])}var w=r(3738),g=r(65),f={name:"Login",components:{Header:w.Z,Footer:g.Z},data(){return{username:"",password:"",errorMessage:""}},methods:{handleSubmit(){let e={user:this.username,password:this.password};""!=this.username&&""!=this.password&&fetch("https://radiant-brushlands-91826.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{e.json().then((s=>{e.ok?(sessionStorage.setItem("userID",s.userID),sessionStorage.setItem("username",s.username),sessionStorage.setItem("isAuthenticated",!0),window.location.replace("/#/Profile")):this.errorMessage=s.message}))}))}}},v=r(89);const _=(0,v.Z)(f,[["render",h],["__scopeId","data-v-35c358df"]]);var b=_}}]);
//# sourceMappingURL=login.ee2cdd36.js.map