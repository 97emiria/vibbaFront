"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[535],{6281:function(e,s,n){n.r(s),n.d(s,{default:function(){return b}});var r=n(3396),t=n(9242),a=n(7139);const o=e=>((0,r.dD)("data-v-fe71754e"),e=e(),(0,r.Cn)(),e),i={class:"Login maxWidthAndCenter"},l=o((()=>(0,r._)("div",{class:"spaceDivider"},null,-1))),u=o((()=>(0,r._)("h1",null,"Log in",-1))),d={key:0,class:"error",id:"error"},p=o((()=>(0,r._)("label",null,"Username or email",-1))),m=o((()=>(0,r._)("label",null,"Password",-1))),c=o((()=>(0,r._)("input",{type:"submit",value:"Log in"},null,-1)));function h(e,s,n,o,h,w){const g=(0,r.up)("Header");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(g),l,u,(0,r._)("form",{onSubmit:s[2]||(s[2]=(0,t.iM)((e=>w.handleSubmit()),["prevent"]))},[h.errorMessage?((0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("p",null,(0,a.zw)(h.errorMessage),1)])):(0,r.kq)("",!0),p,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>h.username=e)},null,512),[[t.nr,h.username]]),m,(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>h.password=e)},null,512),[[t.nr,h.password]]),c],32)])}var w=n(7471),g=n(65),f={name:"Login",components:{Header:w.Z,Footer:g.Z},data(){return{username:"",password:"",errorMessage:""}},methods:{handleSubmit(){let e={user:this.username,password:this.password};""!=this.username&&""!=this.password&&fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{e.json().then((s=>{e.ok?(sessionStorage.setItem("userID",s.userID),sessionStorage.setItem("username",s.username),sessionStorage.setItem("isAuthenticated",!0),window.location.replace("/#/Profile")):this.errorMessage=s.message}))}))}}},v=n(89);const _=(0,v.Z)(f,[["render",h],["__scopeId","data-v-fe71754e"]]);var b=_}}]);
//# sourceMappingURL=login.6b6f364c.js.map