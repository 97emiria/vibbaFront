"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[359],{6709:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var o=a(3396),s=a(7139),r=a(9242);const n=e=>((0,o.dD)("data-v-7ea6d2e5"),e=e(),(0,o.Cn)(),e),i={class:"CreateVibbz maxWidthAndCenter"},d=n((()=>(0,o._)("div",{class:"spaceDivider"},null,-1))),h=n((()=>(0,o._)("h1",null,"Create Vibbz",-1))),l={class:"error",id:"error"},p={key:0},u=n((()=>(0,o._)("h3",null,"Post a Vibbz",-1))),g=(0,o.uE)('<option value="glad" data-v-7ea6d2e5>Glad</option><option value="love" data-v-7ea6d2e5>Love</option><option value="mad" data-v-7ea6d2e5>Mad</option><option value="neutral" data-v-7ea6d2e5>Neutral</option><option value="sad" data-v-7ea6d2e5>Sad</option><option value="surprised" data-v-7ea6d2e5>Surprised</option><option value="tired" data-v-7ea6d2e5>Tired</option>',7),m=[g],c=n((()=>(0,o._)("input",{type:"submit",value:"Post Vibbz"},null,-1)));function v(e,t,a,n,g,v){const b=(0,o.up)("Header");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(b),d,h,(0,o._)("div",l,[g.errorArr?((0,o.wg)(),(0,o.iD)("p",p,(0,s.zw)(g.errorArr),1)):(0,o.kq)("",!0)]),(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,r.iM)((e=>v.handleSubmit()),["prevent"]))},[u,(0,o.wy)((0,o._)("textarea",{id:"post",name:"post","onUpdate:modelValue":t[0]||(t[0]=e=>g.postText=e),required:""},null,512),[[r.nr,g.postText]]),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>g.mood=e)},m,512),[[r.bM,g.mood]]),c],32)])}a(6699);var b=a(9658),f=a(4837),y={name:"CreateVibbz",data(){return{postText:"",mood:"glad",hashtag:"",hashtagsArr:[],errorArr:""}},components:{Header:b.Z,Footer:f.Z},methods:{addHashtag(e){this.hashtag&&(this.hashtagsArr.includes(this.hashtag)?document.getElementById("error").innerHTML="Hashtag already typed":this.hashtagsArr.push(this.hashtag),this.hashtag="")},deleteHashtag(e){this.hashtagsArr=this.hashtagsArr.filter((t=>e!==t))},handleSubmit(){console.log("form submit"),this.errorArr=this.postText.length<244?"":"Post to many characters";let e={userID:sessionStorage.getItem("userID"),username:sessionStorage.getItem("username"),text:this.postText,emotion:this.mood,hashtags:this.hashtagsArr};fetch("http://localhost:3000/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{e.json().then((t=>{console.log(t),e.ok?window.location.replace("/#/Profile"):console.log(t.message)}))}))}}},A=a(89);const _=(0,A.Z)(y,[["render",v],["__scopeId","data-v-7ea6d2e5"]]);var w=_}}]);
//# sourceMappingURL=CreateVibbz.1ba5218c.js.map