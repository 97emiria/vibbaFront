"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[535],{5585:function(e,s,a){a.r(s),a.d(s,{default:function(){return y}});var n=a(3396),t=a(9242),r=a(7139);const o=e=>((0,n.dD)("data-v-a02ea450"),e=e(),(0,n.Cn)(),e),i={class:"Login maxWidthAndCenter"},l=o((()=>(0,n._)("div",{class:"spaceDivider"},null,-1))),u=o((()=>(0,n._)("h1",null,"Log in",-1))),d={class:"error"},p={key:0},m=o((()=>(0,n._)("label",null,"Username or email",-1))),c=o((()=>(0,n._)("label",null,"Password",-1))),h=o((()=>(0,n._)("input",{type:"submit",value:"Log in"},null,-1)));function w(e,s,a,o,w,g){const v=(0,n.up)("Header");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(v),l,u,(0,n._)("form",{onSubmit:s[2]||(s[2]=(0,t.iM)((e=>g.handleSubmit()),["prevent"]))},[(0,n._)("div",d,[e.errorMessage?((0,n.wg)(),(0,n.iD)("p",p,(0,r.zw)(e.errorMessage),1)):(0,n.kq)("",!0)]),m,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>w.username=e)},null,512),[[t.nr,w.username]]),c,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>w.password=e)},null,512),[[t.nr,w.password]]),h],32)])}var g=a(9658),v=a(4837),_={name:"Login",components:{Header:g.Z,Footer:v.Z},data(){return{username:"",password:""}},methods:{handleSubmit(){let e={user:this.username,password:this.password};""!=this.username&&""!=this.password&&fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{e.json().then((s=>{e.ok?(sessionStorage.setItem("userID",s.userID),sessionStorage.setItem("username",s.username),sessionStorage.setItem("isAuthenticated",!0),window.location.replace("/#/Profile")):this.errorMessage=s.message}))}))}}},f=a(89);const b=(0,f.Z)(_,[["render",w],["__scopeId","data-v-a02ea450"]]);var y=b}}]);
//# sourceMappingURL=login.3b7b5ef4.js.map