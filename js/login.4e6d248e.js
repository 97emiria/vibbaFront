"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[535],{6332:function(e,s,n){n.r(s),n.d(s,{default:function(){return y}});var t=n(3396),a=n(9242),r=n(7139);const o=e=>((0,t.dD)("data-v-01e305d4"),e=e(),(0,t.Cn)(),e),i={class:"Login maxWidthAndCenter"},l=o((()=>(0,t._)("div",{class:"spaceDivider"},null,-1))),u=o((()=>(0,t._)("h1",null,"Log in",-1))),d={class:"error"},p={key:0},m=o((()=>(0,t._)("label",null,"Username or email",-1))),c=o((()=>(0,t._)("label",null,"Password",-1))),h=o((()=>(0,t._)("input",{type:"submit",value:"Log in"},null,-1)));function w(e,s,n,o,w,g){const v=(0,t.up)("Header");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t.Wm)(v),l,u,(0,t._)("form",{onSubmit:s[2]||(s[2]=(0,a.iM)((e=>g.handleSubmit()),["prevent"]))},[(0,t._)("div",d,[e.errorMessage?((0,t.wg)(),(0,t.iD)("p",p,(0,r.zw)(e.errorMessage),1)):(0,t.kq)("",!0)]),m,(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>w.username=e)},null,512),[[a.nr,w.username]]),c,(0,t.wy)((0,t._)("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>w.password=e)},null,512),[[a.nr,w.password]]),h],32)])}var g=n(7471),v=n(65),_={name:"Login",components:{Header:g.Z,Footer:v.Z},data(){return{username:"",password:""}},methods:{handleSubmit(){let e={user:this.username,password:this.password};""!=this.username&&""!=this.password&&fetch("http://localhost:3000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{e.json().then((s=>{e.ok?(sessionStorage.setItem("userID",s.userID),sessionStorage.setItem("username",s.username),sessionStorage.setItem("isAuthenticated",!0),window.location.replace("/#/Profile")):this.errorMessage=s.message}))}))}}},f=n(89);const b=(0,f.Z)(_,[["render",w],["__scopeId","data-v-01e305d4"]]);var y=b}}]);
//# sourceMappingURL=login.4e6d248e.js.map